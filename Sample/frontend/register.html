<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Register User - Biometric Authentication System</title>
  <link rel="stylesheet" href="css/styles.css">
  <script src="js/fingerprint-scanner.js"></script>
</head>
<body id="registration-page">
  <div id="alert-container" style="position: fixed; top: 20px; right: 20px; z-index: 9999;"></div>

  <div class="wrapper">
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <div class="logo-icon">ğŸ”</div>
        <div class="logo-text">BioAuth</div>
      </div>
      <ul class="nav-menu">
        <li><a href="dashboard.html"><span class="nav-icon">ğŸ“Š</span>Dashboard</a></li>
        <li><a href="register.html" class="active"><span class="nav-icon">ğŸ‘¤</span>Register User</a></li>
        <li><a href="users.html"><span class="nav-icon">ğŸ‘¥</span>Manage Users</a></li>
        <li><a href="capture.html"><span class="nav-icon">ğŸ‘†</span>Capture Module</a></li>
        <li><a href="logs.html"><span class="nav-icon">ğŸ“‹</span>View Logs</a></li>
        <li><a href="security.html"><span class="nav-icon">ğŸ›¡ï¸</span>Security Info</a></li>
        <li style="border-top: 1px solid rgba(255, 255, 255, 0.1); margin-top: 20px; padding-top: 20px;">
          <a id="logout-btn" href="#"><span class="nav-icon">ğŸšª</span>Logout</a>
        </li>
      </ul>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Navbar -->
      <nav class="navbar">
        <div class="navbar-logo">ğŸ” Biometric Fingerprint Authentication System</div>
        <div class="navbar-user">
          <span>Welcome, Admin</span>
          <div class="user-avatar">A</div>
        </div>
      </nav>

      <!-- Page Content -->
      <div class="container" style="margin-top: 30px;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px; max-width: 1000px;">
          <!-- Left: Form -->
          <div class="card">
            <h2 class="card-title">User Registration</h2>
            <p class="card-subtitle">Enroll new user biometric data</p>

            <form id="registration-form">
              <div class="form-group">
                <label class="form-label">User ID</label>
                <input type="text" class="form-input" id="user-id" placeholder="USR001" required>
                <small style="color: var(--text-secondary);">Format: USRxxx</small>
              </div>

              <div class="form-group">
                <label class="form-label">Full Name</label>
                <input type="text" class="form-input" id="user-name" placeholder="John Doe" required>
              </div>

              <div class="form-group">
                <label class="form-label">Email Address</label>
                <input type="email" class="form-input" id="user-email" placeholder="john@example.com" required>
              </div>

              <div class="form-group">
                <label class="form-label">Department</label>
                <select class="form-select" id="user-department">
                  <option value="">Select Department</option>
                  <option value="IT">IT</option>
                  <option value="HR">HR</option>
                  <option value="Finance">Finance</option>
                  <option value="Operations">Operations</option>
                </select>
              </div>

              <div class="form-group">
                <label class="form-label">Notes</label>
                <textarea class="form-textarea" id="user-notes" placeholder="Add any notes about this user..."></textarea>
              </div>

              <div style="display: flex; gap: 10px;">
                <button type="submit" class="btn btn-primary" style="flex: 1;">Submit Form</button>
                <button type="button" class="btn btn-secondary" onclick="RegistrationPage.cancel()" style="flex: 1;">Cancel</button>
              </div>
            </form>
          </div>

          <!-- Right: Biometric Capture -->
          <div class="card">
            <h2 class="card-title">Fingerprint Capture</h2>
            <p class="card-subtitle">Enroll biometric fingerprints</p>

            <!-- Fingerprint Scanner -->
            <div style="background: linear-gradient(135deg, #667eea15, #764ba215); border-radius: 12px; padding: 40px 20px; text-align: center; margin-bottom: 20px; border: 2px dashed var(--primary-color);">
              <div style="font-size: 80px; margin-bottom: 15px;">ğŸ‘†</div>
              <p style="color: var(--text-secondary); margin-bottom: 15px;">Place your finger on the sensor</p>
              <button type="button" class="btn btn-primary" id="capture-btn" onclick="RegistrationPage.captureFingerprint()">
                ğŸ” Capture Fingerprint
              </button>
            </div>

            <!-- Quality Indicator -->
            <div class="quality-indicator">
              <div class="quality-label">Scan Quality</div>
              <div class="quality-bar">
                <div class="quality-fill" id="quality-fill"></div>
              </div>
              <div class="quality-text" id="quality-text">Quality: -</div>
            </div>

            <!-- Captured Fingerprints List -->
            <div style="margin-top: 20px;">
              <label class="form-label">Captured Fingerprints</label>
              <div id="fingerprint-list" style="max-height: 300px; overflow-y: auto;">
                <p style="color: var(--text-secondary); text-align: center; padding: 20px;">No fingerprints captured yet.</p>
              </div>
            </div>

            <!-- Register Button -->
            <button type="button" class="btn btn-success btn-lg" id="register-btn" onclick="RegistrationPage.registerUser()" style="width: 100%; margin-top: 20px;">
              âœ… Register User
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Registration Success Modal -->
  <div id="registration-success-modal" class="modal">
    <div class="modal-content">
      <div class="modal-body">
        <div class="modal-icon" style="color: var(--success-color);">âœ…</div>
        <div class="modal-message">Registration Successful!</div>
        <div class="modal-submessage">The user has been successfully registered with biometric data.</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" style="flex: 1;" onclick="UI.closeModal('registration-success-modal'); RegistrationPage.cancel();">
          Done
        </button>
      </div>
    </div>
  </div>

  <script src="js/main.js"></script>
</body>
</html>
